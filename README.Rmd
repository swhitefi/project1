---
output: html_document
---
Project 1
========

The project for the first half of the semester is due on October 24th as a pull
request to this repository. The emphasis for this projet is on data analysis
using tools of reproducible research including version tracking, knitr, and R
markdown. You are free to answer any question you want, but you must provide a
quantitative report that utilizes the material we have covered durign the first
half of the semester.

***Ground rules...***
* Your document should layout your question in the introduction, provide a brief
synopsis for why it is important, describe how you obtained the data, your general
approach to analyzing the data, a summary of your results, a discussion, and
mention of what your future directions would be.
* You should post your project as a pull request to this repository as `*.Rmd`,
`*.md`, and `.html` files. Prior to submitting the files, you should set
`echo=FALSE` for all of the code chunks. This will hide the R code in the final
document.
* The final document should be approximately 5 pages when the code chunks are
hidden and  you use a normal sized font.
* I don't care what your question is or what subject domain it covers. The key is
that it needs to be data driven. Microbiology, video game statisitics, immunology,
whatever. Do something where it will be easy for you to come up with an interesting
question and fun analysis.

#Replicating Jhansi Leslie's Analysis for her Anaerobe 2014 Poster Entitled *"Pre-Colonization By a Less Virulent Strain of *Clostridium difficile* Protects From Infection by a Lethal Strain,"* using R
###**By Shawn Whitefield**

##Introduction

*Clostridium difficile* is an anaerobic spore forming bacterium that is respobsible for 14,000 deaths and 1 billion dollars in excess healthcare costs annually in the US.(1)  *C. diff* infection (CDI) is primarily healthcare associated, and infected individuals can experience symptoms ranging from asymptomatic colonization, to toxic megacolon requiring colectomy. Protection from CDI is thought to occur through interactions between bacteria in the gut as well as via the adaptive immune response.
The Young lab has a mouse model of CDI which Jhansi used to study the imact of adaptive immunity and pre-colonization by a less virulent strain on infection outcomes (Figure 1 poster below). Briefly, in this model, mice are given cefoperazone for ten days to perturb their indigenous microbiota. They are then treated with either water or a non-lethal *C. diff* strain. Both groups of mice are then given clindamycin for 6 weeks along with a non-lethal strain of *C. diff*. After six weeks mice in each treatment group are challanged with a lethal *C diff* strain and outcomes are measured.  

I am replicating Jhansi's colonization data analysis and graph for this project.

###Jhansi's Anaerobe 2014 Poster: ![](/Users/shawnwhitefield/Desktop/r_class/project_1/Anaerobe2014_posterLESLIE_copy.jpg)

##Methods & Results 
Jhansi looked at the effect of the adaptive immune system on *C. diff* infection. She infected mice with *C. diff* strain 630, and compared the level of colonization of wildtype vs. RAG knockout mice, which have no mature B and T lymphocytes, over time.  

The data was stored in a large multi-sheet Excel document, so the first step was to generate usable dataframes with the pertinant information.
###Example 1: CFU by Genotype Data 
![](/Users/shawnwhitefield/Desktop/Rag_longterm_datasheets.jpg)
```{r}
#reading in cfu and weights datafile
mousecfu<-read.table(file="cleaned-up_mouse_data.txt", header=T)
summary(mousecfu)


```
###Figure 8 replication
figure 8 clearly demonstrates that adaptive immunity does not play a role in *C. diff* infection clearance, and that pre-colonization with a less virulent strain is protective against infection with a lethal strain. 
```{r}
#create new dataframe for the mean cfu per cage on each day
#create variable with mean cfu day1
#create variable for SEM for error bars
#create bar chart displaying dpi vs cfu with a line for each cage
```
###Figure 9 discussion and data visualization improvements
In figure 9, Jhansi grouped WT and RAG mice by their *C. diff* status at the time of VPI infection (naive, previous 630 colonized and cleared infection, 630 colonized), and plotted this against the percentage of baseline weight (a measure of mouse illness) post VPI infection. 

This figure demonstrates that mice that are infected by a less virulent strain at the time of infection are protected from CDI illness once infected by a lethal strain, and that adaptive immunity does not modify this effect.

This figure was created in Prism and there are some issues with how the data is displayed that detract from its impact.  Frist, healthy mice should loose the least amount of weight. In this graph, colonized mice have the highest percent of baseline weight (ie their weight has not changed), but it looks as though there is a larger effect in this group because the bar is the highest. Second, this graph is supposed to be a box and whisker plot, however it looks like a bar chart with error bars and many outliers because the first quartile hits the x axis.  These issues have inspired me to not replicate this figure, but to create a figure that displays the data in a way that is easier to understand. 
```{r}
#create box plot with individual dots as RAG mice
par(mar=c(6,6,4,4), xpd=T)
stripchart(mousecfu[mousecfu$genotype=="RAG", "pBLweight"]~mousecfu[mousecfu$genotype=="RAG","infection_status"], method ="jitter", vertical=F, pch=c(1), col="green", xlab="% Baseline Weight", main="Weight Change By Colonization Status at VPI Infection", las=1)
#adding WT mice
stripchart(mousecfu[mousecfu$genotype=="WT", "pBLweight"]~mousecfu[mousecfu$genotype=="WT","infection_status"], method ="jitter", vertical=F, pch=c(1), col="blue", add=T)
#adding legend

legend("bottom", c("RAG","WT"), pch=1, col=c("green","blue"),horiz=T, xpd=T, bty="n", cex=1, inset=c(0,1))

#writing function to find median mean and IQR of each pre VPI type
summarystats<-function(x) {
 c( mean=mean(x), quantile=quantile(x), median=median(x), sd=sd(x))
}
sumstatsweight<-tapply(mousecfu$pBLweight, mousecfu$infection_status, summarystats)
sumstatsweight  
#calculating mean of each infection status

#do t tests comparing naive vs cleared
#do t test comparing colonized and cleared
#do t test comparing naive and colonized


```

##Discussion
##Sources
1. [CDC.gov *C. diff*](http://www.cdc.gov/HAI/organisms/cdiff/Cdiff_infect.html)

